import { useState, useRef, useEffect } from "react";
import { useNavigate, Link } from "react-router-dom";
import { motion, useAnimation } from "framer-motion";

import { useAppDispatch, useAppSelector } from "../../../store";
import { setAccount, logout } from "../../../store/authReducer";

import styles from "./Sidebar.module.css";

const Sidebar = () => {
  const [openMenu, setOpenMenu] = useState<boolean>(false);
  const [openModal, setOpenModal] = useState<boolean>(false);

  const playerId = useAppSelector((state) => state.auth.id);
  const playerUsername = useAppSelector((state) => state.auth.username);
  const playerBalance = useAppSelector((state) => state.auth.balance);
  const playerDemoBalance = useAppSelector((state) => state.auth.demoBalance);
  const switchAccount = useAppSelector((state) => state.auth.switchAccount);
  const avatar = useAppSelector((state) => state.auth.avatar);

  const dispatch = useAppDispatch();
  const navigate = useNavigate();
  const sideBarControls = useAnimation();
  const balanceControls = useAnimation();
  const textControls = useAnimation();
  const menuControls = useAnimation();

  const openSettingsModalHandler = () => {
    setOpenModal(!openModal);
  };

  const logoutHandler = async () => {
    try {
      dispatch(logout());
      navigate("/");
    } catch (err: any) {
      console.log(err)
    }
  };

  const sideBarData = [
    {
      svg: switchAccount ? (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="#fff"
          stroke="#fff"
          viewBox="0 0 56 56"
        >
          <path d="M33.703 50.602C45.896 50.602 56 40.498 56 28.306c0-12.17-10.127-22.297-22.32-22.297-11.226 0-20.724 8.645-22.071 19.535 6.983.112 12.843 5.232 14.056 11.923 2.38-1.01 5.142-1.594 8.038-1.594 5.524 0 10.396 2.065 13.36 5.254-3.368 3.48-8.105 5.68-13.382 5.68-3.099 0-6.018-.785-8.578-2.11a13.14 13.14 0 01-1.684 3.368c3.122 1.617 6.602 2.537 10.284 2.537zM33.681 32.1c-4.289 0-7.545-3.75-7.545-8.42 0-4.423 3.323-8.263 7.545-8.263 4.244 0 7.59 3.84 7.567 8.263 0 4.67-3.256 8.42-7.567 8.42zM11.407 51.455c6.264 0 11.406-5.119 11.406-11.406 0-6.242-5.142-11.407-11.406-11.407C5.164 28.642 0 33.807 0 40.05c0 6.287 5.164 11.407 11.407 11.407zm0-9.61c-.741 0-1.28-.494-1.303-1.235l-.18-6.197c-.022-.876.584-1.482 1.483-1.482.92 0 1.504.606 1.482 1.482l-.18 6.197c-.022.741-.539 1.235-1.302 1.235zm0 5.367a1.85 1.85 0 01-1.842-1.842c0-1.01.831-1.84 1.842-1.84 1.033 0 1.84.83 1.84 1.84 0 1.01-.807 1.842-1.84 1.842z"></path>
        </svg>
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="#fff"
          stroke="#fff"
          viewBox="0 0 56 56"
        >
          <path d="M33.703 50.602C45.896 50.602 56 40.498 56 28.306c0-12.17-10.127-22.297-22.32-22.297-11.226 0-20.724 8.645-22.071 19.535 6.983.112 12.843 5.232 14.056 11.923 2.38-1.01 5.142-1.594 8.038-1.594 5.524 0 10.396 2.065 13.36 5.254-3.368 3.48-8.105 5.68-13.382 5.68-3.099 0-6.018-.785-8.578-2.11a13.14 13.14 0 01-1.684 3.368c3.122 1.617 6.602 2.537 10.284 2.537zM33.681 32.1c-4.289 0-7.545-3.75-7.545-8.42 0-4.423 3.323-8.263 7.545-8.263 4.244 0 7.59 3.84 7.567 8.263 0 4.67-3.256 8.42-7.567 8.42zM11.407 51.455c6.264 0 11.406-5.119 11.406-11.406 0-6.242-5.142-11.407-11.406-11.407C5.164 28.642 0 33.807 0 40.05c0 6.287 5.164 11.407 11.407 11.407zm-1.348-4.715c-.359 0-.808-.157-1.1-.471L4.648 41.53c-.157-.18-.27-.561-.27-.876 0-.763.607-1.37 1.37-1.37.45 0 .808.203 1.055.472l3.189 3.458 5.95-8.24c.247-.36.651-.607 1.145-.607.741 0 1.393.584 1.393 1.347 0 .247-.113.54-.315.831l-6.96 9.678c-.225.314-.674.516-1.146.516z"></path>
        </svg>
      ),
      link: `/account`,
    },
    {
      svg: (
        <svg
          // onClick={openSettingsModalHandler}
          className={`${styles.settings} ${styles.expBtn}`}
          viewBox="0 0 512 512"
          enableBackground="new 0 0 512 512"
        >
          <g>
            <line fill="white" y1="501" x1="303.1" y2="501" x2="302.1" />
            <g>
              <path
                fill="white"
                d="m501,300.8v-91.7h-45.3c-5.3-22.4-14.3-43.3-26.4-62.1l32.9-32.7-64.9-64.6-33.4,33.3c-18.8-11.5-39.6-19.9-61.8-24.8v-47.2h-92.1v48.3c-22,5.4-42.6,14.4-61.1,26.4l-34.2-34-64.9,64.6 35.3,35.2c-2.8,4.6-5.3,9.2-7.7,14-7.5,14.3-13.2,30-17.1,45.7h-49.3v91.7h50.3c1.5,6 3.3,11.9 5.3,17.8 0.1,0.4 0.3,0.8 0.4,1.2 0,0.1 0.1,0.2 0.1,0.4 4.9,14.2 11.3,27.7 19.1,40.2l-35.5,35.3 64.9,64.6 35.1-34.9c18.3,11.5 38.6,20.2 60.2,25.4v48.1h91.1v-47.1c22.7-5 44-13.7 63.1-25.6l32.2,32 64.9-64.6-32.1-31.9c12-19.1 20.9-40.3 26-62.9h44.9zm-94.8,64l29.9,29.8-36.6,36.5-29.5-29.4c-24.7,18.9-54.4,31.7-86.7,36v42.4h-51.3v-42.7c-31.5-4.6-60.4-17.2-84.6-35.7l-31.6,31.5-36.6-36.5 32.4-31.3c-17.9-24-30-52.4-34.4-83.4h-45.3v-51.1h44l1.5-3.6c4.7-29.7 16.5-57.1 33.6-80.3l-32-31.9 36.6-36.5 31,31.9c24-18.5 52.8-31.2 84.1-36v-42.7h51.3v42.3c32,4.1 61.3,16.4 86,34.8l30.3-30.1 35.6,36.5-29.6,29.5c18.2,23.8 30.7,52.2 35.5,83.1h45.4v51.1h-44.7c-3.9,31.8-16.1,61.1-34.3,85.8z"
              />
              <path
                fill="white"
                d="m257,143.4c-61.8,0-113.1,50-113.1,112.6s51.4,112.6 113.1,112.6 113.1-51.1 113.1-112.6-51.3-112.6-113.1-112.6zm0,204.3c-51.3,0-92.1-40.7-92.1-91.7 0-51.1 41.9-91.7 92.1-91.7s92.1,40.7 92.1,91.7c0.1,51.1-41.8,91.7-92.1,91.7z"
              />
            </g>
          </g>
        </svg>
      ),
      func: () => openSettingsModalHandler(),
      link: `/statistics/${playerId}`,
    },

    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_135_1146)">
            <path
              d="M16 0C12.8355 0 9.74207 0.938384 7.11088 2.69649C4.4797 4.45459 2.42894 6.95345 1.21793 9.87707C0.00693258 12.8007 -0.309921 16.0177 0.307443 19.1214C0.924806 22.2251 2.44866 25.0761 4.6863 27.3137C6.92394 29.5514 9.77487 31.0752 12.8786 31.6926C15.9823 32.3099 19.1993 31.9931 22.1229 30.7821C25.0466 29.5711 27.5454 27.5203 29.3035 24.8891C31.0616 22.2579 32 19.1645 32 16C31.9954 11.7579 30.3082 7.69095 27.3087 4.69136C24.3091 1.69177 20.2421 0.00458811 16 0V0ZM16 29.3333C13.3629 29.3333 10.7851 28.5513 8.5924 27.0863C6.39975 25.6212 4.69078 23.5388 3.68161 21.1024C2.67245 18.6661 2.4084 15.9852 2.92287 13.3988C3.43734 10.8124 4.70722 8.43661 6.57192 6.57191C8.43662 4.70721 10.8124 3.43733 13.3988 2.92286C15.9852 2.40839 18.6661 2.67244 21.1025 3.68161C23.5388 4.69078 25.6212 6.39974 27.0863 8.5924C28.5514 10.7851 29.3333 13.3629 29.3333 16C29.3295 19.535 27.9235 22.9242 25.4238 25.4238C22.9242 27.9235 19.535 29.3295 16 29.3333Z"
              fill="white"
            />
            <path
              d="M16.0003 6.66687C15.6467 6.66687 15.3076 6.80735 15.0575 7.05739C14.8075 7.30744 14.667 7.64658 14.667 8.0002V18.6669C14.667 19.0205 14.8075 19.3596 15.0575 19.6097C15.3076 19.8597 15.6467 20.0002 16.0003 20.0002C16.354 20.0002 16.6931 19.8597 16.9431 19.6097C17.1932 19.3596 17.3337 19.0205 17.3337 18.6669V8.0002C17.3337 7.64658 17.1932 7.30744 16.9431 7.05739C16.6931 6.80735 16.354 6.66687 16.0003 6.66687Z"
              fill="white"
            />
            <path
              d="M17.3337 24.0002C17.3337 23.2638 16.7367 22.6669 16.0003 22.6669C15.2639 22.6669 14.667 23.2638 14.667 24.0002C14.667 24.7366 15.2639 25.3336 16.0003 25.3336C16.7367 25.3336 17.3337 24.7366 17.3337 24.0002Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_135_1146">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: `/statistics/${playerId}`,
    },
    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            <path
              d="M32.0002 15.3334C31.997 14.4344 31.7908 13.5478 31.3969 12.7397C31.003 11.9317 30.4317 11.223 29.7255 10.6667C30.7025 9.89658 31.4146 8.84074 31.7627 7.64647C32.1108 6.45221 32.0774 5.17907 31.6673 4.00467C31.2571 2.83027 30.4906 1.81319 29.4747 1.09529C28.4588 0.3774 27.2442 -0.0054931 26.0002 2.83691e-05H6.00021C4.75626 -0.0054931 3.54161 0.3774 2.5257 1.09529C1.50979 1.81319 0.743292 2.83027 0.333134 4.00467C-0.077025 5.17907 -0.110388 6.45221 0.237699 7.64647C0.585785 8.84074 1.29796 9.89658 2.27488 10.6667C1.56627 11.2208 0.993152 11.929 0.598993 12.7376C0.204834 13.5461 -1.44427e-05 14.4338 -1.44427e-05 15.3334C-1.44427e-05 16.2329 0.204834 17.1206 0.598993 17.9292C0.993152 18.7377 1.56627 19.4459 2.27488 20C1.29796 20.7701 0.585785 21.826 0.237699 23.0202C-0.110388 24.2145 -0.077025 25.4877 0.333134 26.6621C0.743292 27.8364 1.50979 28.8535 2.5257 29.5714C3.54161 30.2893 4.75626 30.6722 6.00021 30.6667H26.0002C27.2442 30.6722 28.4588 30.2893 29.4747 29.5714C30.4906 28.8535 31.2571 27.8364 31.6673 26.6621C32.0774 25.4877 32.1108 24.2145 31.7627 23.0202C31.4146 21.826 30.7025 20.7701 29.7255 20C30.4317 19.4437 31.003 18.7351 31.3969 17.927C31.7908 17.1189 31.997 16.2323 32.0002 15.3334ZM2.66688 6.00003C2.66688 5.11597 3.01807 4.26813 3.64319 3.64301C4.26831 3.01788 5.11616 2.66669 6.00021 2.66669H6.66688V4.00003C6.66688 4.35365 6.80735 4.69279 7.0574 4.94284C7.30745 5.19289 7.64659 5.33336 8.00021 5.33336C8.35383 5.33336 8.69297 5.19289 8.94302 4.94284C9.19307 4.69279 9.33354 4.35365 9.33354 4.00003V2.66669H12.0002V4.00003C12.0002 4.35365 12.1407 4.69279 12.3907 4.94284C12.6408 5.19289 12.9799 5.33336 13.3335 5.33336C13.6872 5.33336 14.0263 5.19289 14.2764 4.94284C14.5264 4.69279 14.6669 4.35365 14.6669 4.00003V2.66669H26.0002C26.8843 2.66669 27.7321 3.01788 28.3572 3.64301C28.9824 4.26813 29.3335 5.11597 29.3335 6.00003C29.3335 6.88408 28.9824 7.73193 28.3572 8.35705C27.7321 8.98217 26.8843 9.33336 26.0002 9.33336H6.00021C5.11616 9.33336 4.26831 8.98217 3.64319 8.35705C3.01807 7.73193 2.66688 6.88408 2.66688 6.00003ZM29.3335 24.6667C29.3335 25.5507 28.9824 26.3986 28.3572 27.0237C27.7321 27.6488 26.8843 28 26.0002 28H6.00021C5.11616 28 4.26831 27.6488 3.64319 27.0237C3.01807 26.3986 2.66688 25.5507 2.66688 24.6667C2.66688 23.7826 3.01807 22.9348 3.64319 22.3097C4.26831 21.6845 5.11616 21.3334 6.00021 21.3334H6.66688V22.6667C6.66688 23.0203 6.80735 23.3595 7.0574 23.6095C7.30745 23.8596 7.64659 24 8.00021 24C8.35383 24 8.69297 23.8596 8.94302 23.6095C9.19307 23.3595 9.33354 23.0203 9.33354 22.6667V21.3334H12.0002V22.6667C12.0002 23.0203 12.1407 23.3595 12.3907 23.6095C12.6408 23.8596 12.9799 24 13.3335 24C13.6872 24 14.0263 23.8596 14.2764 23.6095C14.5264 23.3595 14.6669 23.0203 14.6669 22.6667V21.3334H26.0002C26.8843 21.3334 27.7321 21.6845 28.3572 22.3097C28.9824 22.9348 29.3335 23.7826 29.3335 24.6667ZM6.00021 18.6667C5.11616 18.6667 4.26831 18.3155 3.64319 17.6904C3.01807 17.0653 2.66688 16.2174 2.66688 15.3334C2.66688 14.4493 3.01807 13.6015 3.64319 12.9763C4.26831 12.3512 5.11616 12 6.00021 12H6.66688V13.3334C6.66688 13.687 6.80735 14.0261 7.0574 14.2762C7.30745 14.5262 7.64659 14.6667 8.00021 14.6667C8.35383 14.6667 8.69297 14.5262 8.94302 14.2762C9.19307 14.0261 9.33354 13.687 9.33354 13.3334V12H12.0002V13.3334C12.0002 13.687 12.1407 14.0261 12.3907 14.2762C12.6408 14.5262 12.9799 14.6667 13.3335 14.6667C13.6872 14.6667 14.0263 14.5262 14.2764 14.2762C14.5264 14.0261 14.6669 13.687 14.6669 13.3334V12H26.0002C26.8843 12 27.7321 12.3512 28.3572 12.9763C28.9824 13.6015 29.3335 14.4493 29.3335 15.3334C29.3335 16.2174 28.9824 17.0653 28.3572 17.6904C27.7321 18.3155 26.8843 18.6667 26.0002 18.6667H6.00021Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath>
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: `/statistics/${playerId}`,
    },
    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            <path
              d="M6 23.3338H2.66667C1.95942 23.3338 1.28115 23.6147 0.781049 24.1148C0.280952 24.6149 0 25.2932 0 26.0004L0 29.3337C0 30.041 0.280952 30.7193 0.781049 31.2194C1.28115 31.7195 1.95942 32.0004 2.66667 32.0004H6C6.70724 32.0004 7.38552 31.7195 7.88562 31.2194C8.38572 30.7193 8.66667 30.041 8.66667 29.3337V26.0004C8.66667 25.2932 8.38572 24.6149 7.88562 24.1148C7.38552 23.6147 6.70724 23.3338 6 23.3338ZM6 29.3337H2.66667V26.0004H6V29.3337Z"
              fill="white"
            />
            <path
              d="M29.3335 23.3338H26.0002C25.2929 23.3338 24.6146 23.6147 24.1145 24.1148C23.6144 24.6149 23.3335 25.2932 23.3335 26.0004V29.3337C23.3335 30.041 23.6144 30.7193 24.1145 31.2194C24.6146 31.7195 25.2929 32.0004 26.0002 32.0004H29.3335C30.0407 32.0004 30.719 31.7195 31.2191 31.2194C31.7192 30.7193 32.0001 30.041 32.0001 29.3337V26.0004C32.0001 25.2932 31.7192 24.6149 31.2191 24.1148C30.719 23.6147 30.0407 23.3338 29.3335 23.3338ZM29.3335 29.3337H26.0002V26.0004H29.3335V29.3337Z"
              fill="white"
            />
            <path
              d="M6 11.6663H2.66667C1.95942 11.6663 1.28115 11.9472 0.781049 12.4473C0.280952 12.9474 0 13.6257 0 14.3329L0 17.6662C0 18.3735 0.280952 19.0518 0.781049 19.5519C1.28115 20.052 1.95942 20.3329 2.66667 20.3329H6C6.70724 20.3329 7.38552 20.052 7.88562 19.5519C8.38572 19.0518 8.66667 18.3735 8.66667 17.6662V14.3329C8.66667 13.6257 8.38572 12.9474 7.88562 12.4473C7.38552 11.9472 6.70724 11.6663 6 11.6663ZM6 17.6662H2.66667V14.3329H6V17.6662Z"
              fill="white"
            />
            <path
              d="M29.3335 11.6663H26.0002C25.2929 11.6663 24.6146 11.9472 24.1145 12.4473C23.6144 12.9474 23.3335 13.6257 23.3335 14.3329V17.6662C23.3335 18.3735 23.6144 19.0518 24.1145 19.5519C24.6146 20.052 25.2929 20.3329 26.0002 20.3329H29.3335C30.0407 20.3329 30.719 20.052 31.2191 19.5519C31.7192 19.0518 32.0001 18.3735 32.0001 17.6662V14.3329C32.0001 13.6257 31.7192 12.9474 31.2191 12.4473C30.719 11.9472 30.0407 11.6663 29.3335 11.6663ZM29.3335 17.6662H26.0002V14.3329H29.3335V17.6662Z"
              fill="white"
            />
            <path
              d="M6 0H2.66667C1.95942 0 1.28115 0.280952 0.781049 0.781049C0.280952 1.28115 0 1.95942 0 2.66667L0 6C0 6.70724 0.280952 7.38552 0.781049 7.88562C1.28115 8.38572 1.95942 8.66667 2.66667 8.66667H6C6.70724 8.66667 7.38552 8.38572 7.88562 7.88562C8.38572 7.38552 8.66667 6.70724 8.66667 6V2.66667C8.66667 1.95942 8.38572 1.28115 7.88562 0.781049C7.38552 0.280952 6.70724 0 6 0V0ZM6 6H2.66667V2.66667H6V6Z"
              fill="white"
            />
            <path
              d="M17.6665 23.3338H14.3332C13.6259 23.3338 12.9476 23.6147 12.4476 24.1148C11.9475 24.6149 11.6665 25.2932 11.6665 26.0004V29.3337C11.6665 30.041 11.9475 30.7193 12.4476 31.2194C12.9476 31.7195 13.6259 32.0004 14.3332 32.0004H17.6665C18.3737 32.0004 19.052 31.7195 19.5521 31.2194C20.0522 30.7193 20.3332 30.041 20.3332 29.3337V26.0004C20.3332 25.2932 20.0522 24.6149 19.5521 24.1148C19.052 23.6147 18.3737 23.3338 17.6665 23.3338ZM17.6665 29.3337H14.3332V26.0004H17.6665V29.3337Z"
              fill="white"
            />
            <path
              d="M17.6665 11.6663H14.3332C13.6259 11.6663 12.9476 11.9472 12.4476 12.4473C11.9475 12.9474 11.6665 13.6257 11.6665 14.3329V17.6662C11.6665 18.3735 11.9475 19.0518 12.4476 19.5519C12.9476 20.052 13.6259 20.3329 14.3332 20.3329H17.6665C18.3737 20.3329 19.052 20.052 19.5521 19.5519C20.0522 19.0518 20.3332 18.3735 20.3332 17.6662V14.3329C20.3332 13.6257 20.0522 12.9474 19.5521 12.4473C19.052 11.9472 18.3737 11.6663 17.6665 11.6663ZM17.6665 17.6662H14.3332V14.3329H17.6665V17.6662Z"
              fill="white"
            />
            <path
              d="M17.6665 -1.52588e-05H14.3332C13.6259 -1.52588e-05 12.9476 0.280936 12.4476 0.781033C11.9475 1.28113 11.6665 1.95941 11.6665 2.66665V5.99998C11.6665 6.70723 11.9475 7.38551 12.4476 7.8856C12.9476 8.3857 13.6259 8.66665 14.3332 8.66665H17.6665C18.3737 8.66665 19.052 8.3857 19.5521 7.8856C20.0522 7.38551 20.3332 6.70723 20.3332 5.99998V2.66665C20.3332 1.95941 20.0522 1.28113 19.5521 0.781033C19.052 0.280936 18.3737 -1.52588e-05 17.6665 -1.52588e-05V-1.52588e-05ZM17.6665 5.99998H14.3332V2.66665H17.6665V5.99998Z"
              fill="white"
            />
            <path
              d="M29.3335 -1.52588e-05H26.0002C25.2929 -1.52588e-05 24.6146 0.280936 24.1145 0.781033C23.6144 1.28113 23.3335 1.95941 23.3335 2.66665V5.99998C23.3335 6.70723 23.6144 7.38551 24.1145 7.8856C24.6146 8.3857 25.2929 8.66665 26.0002 8.66665H29.3335C30.0407 8.66665 30.719 8.3857 31.2191 7.8856C31.7192 7.38551 32.0001 6.70723 32.0001 5.99998V2.66665C32.0001 1.95941 31.7192 1.28113 31.2191 0.781033C30.719 0.280936 30.0407 -1.52588e-05 29.3335 -1.52588e-05V-1.52588e-05ZM29.3335 5.99998H26.0002V2.66665H29.3335V5.99998Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_135_1142">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: `/statistics/${playerId}`,
    },
    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_135_1143)">
            <path
              d="M31.8663 15.2496C31.3424 11.2168 29.3026 7.53481 26.1614 4.95202C23.0202 2.36922 19.0135 1.07944 14.9555 1.34483C10.8975 1.61021 7.09279 3.41084 4.31476 6.38073C1.53672 9.35063 -0.00619526 13.2669 -0.000389543 17.3336C-0.00807541 19.5103 0.433021 21.6652 1.29536 23.6638C2.15771 25.6623 3.42278 27.4617 5.01161 28.9496C6.22673 30.0746 7.82782 30.6894 9.48361 30.6669H22.5063C24.2556 30.671 25.9362 29.9866 27.1849 28.7616C28.9646 27.0302 30.3147 24.9066 31.1275 22.5605C31.9403 20.2145 32.1933 17.7108 31.8663 15.2496ZM25.3209 26.8496C24.5708 27.5887 23.5594 28.0021 22.5063 28.0002H9.48361C8.50931 28.0202 7.56427 27.6667 6.84228 27.0122C5.51864 25.7724 4.46471 24.2731 3.74622 22.6078C3.02773 20.9426 2.6601 19.1472 2.66628 17.3336C2.66759 15.4565 3.06464 13.6009 3.83153 11.8877C4.59841 10.1745 5.7179 8.64224 7.11694 7.3909C9.5478 5.19877 12.7077 3.99006 15.9809 4.00023C16.504 4.00045 17.0265 4.02983 17.5463 4.08823C20.0471 4.37868 22.4145 5.37165 24.3742 6.95213C26.3339 8.53261 27.8058 10.6359 28.6194 13.0185C29.433 15.401 29.5549 17.9653 28.9712 20.4143C28.3874 22.8633 27.1218 25.0969 25.3209 26.8562V26.8496ZM10.4089 23.0469C10.6618 23.2944 10.8059 23.6323 10.8097 23.9861C10.8134 24.3399 10.6765 24.6807 10.4289 24.9336C10.1814 25.1864 9.84357 25.3306 9.48975 25.3343C9.13593 25.3381 8.79512 25.2011 8.54228 24.9536C7.02889 23.4711 5.9912 21.5716 5.56149 19.4972C5.13178 17.4228 5.3295 15.2674 6.12946 13.3057C6.92941 11.3441 8.29537 9.66508 10.0532 8.48274C11.811 7.30039 13.8811 6.66825 15.9996 6.6669C16.5095 6.66675 17.0188 6.70284 17.5236 6.7749C17.697 6.79989 17.8637 6.8588 18.0143 6.94825C18.1649 7.03771 18.2964 7.15596 18.4013 7.29625C18.5061 7.43653 18.5824 7.59611 18.6255 7.76586C18.6687 7.93562 18.678 8.11221 18.6529 8.28556C18.63 8.45987 18.5724 8.62782 18.4836 8.77954C18.3947 8.93127 18.2765 9.0637 18.1357 9.16904C17.995 9.27439 17.8346 9.35053 17.664 9.39298C17.4934 9.43543 17.316 9.44333 17.1423 9.41623C15.4736 9.17788 13.7723 9.47271 12.2811 10.2586C10.7899 11.0446 9.58504 12.2814 8.83849 13.7927C8.09194 15.304 7.84183 17.0125 8.12385 18.6743C8.40587 20.3362 9.20561 21.8665 10.4089 23.0469ZM26.5583 15.8096C26.6303 16.3144 26.6664 16.8236 26.6663 17.3336C26.6706 18.7545 26.3885 20.1617 25.8369 21.4711C25.2852 22.7806 24.4754 23.9654 23.4556 24.9549C23.2024 25.2024 22.8613 25.3392 22.5072 25.3352C22.1531 25.3312 21.8151 25.1868 21.5676 24.9336C21.3201 24.6804 21.1833 24.3392 21.1873 23.9851C21.1913 23.6311 21.3358 23.2931 21.5889 23.0456C22.4898 22.1675 23.1701 21.0887 23.5743 19.8973C23.9784 18.706 24.0949 17.4359 23.9143 16.1909C23.8637 15.8406 23.9544 15.4846 24.1663 15.2012C24.3782 14.9178 24.694 14.7301 25.0443 14.6796C25.3945 14.629 25.7505 14.7196 26.034 14.9316C26.3174 15.1435 26.505 15.4593 26.5556 15.8096H26.5583ZM18.5676 16.6509C18.7281 17.2279 18.6929 17.8418 18.4676 18.3967C18.2424 18.9516 17.8397 19.4163 17.3224 19.7182C16.8052 20.0201 16.2025 20.1422 15.6086 20.0654C15.0146 19.9887 14.4628 19.7173 14.0393 19.2939C13.6158 18.8704 13.3445 18.3186 13.2677 17.7246C13.191 17.1306 13.3131 16.528 13.615 16.0107C13.9168 15.4935 14.3815 15.0908 14.9365 14.8655C15.4914 14.6403 16.1053 14.6051 16.6823 14.7656L21.7236 9.72423C21.8466 9.59688 21.9937 9.49531 22.1564 9.42543C22.3191 9.35555 22.494 9.31877 22.6711 9.31723C22.8481 9.31569 23.0237 9.34943 23.1875 9.41647C23.3514 9.48351 23.5003 9.58251 23.6255 9.7077C23.7507 9.83289 23.8497 9.98176 23.9167 10.1456C23.9837 10.3095 24.0175 10.4851 24.0159 10.6621C24.0144 10.8391 23.9776 11.0141 23.9077 11.1768C23.8379 11.3394 23.7363 11.4866 23.6089 11.6096L18.5676 16.6509Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_135_1143">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: `/statistics/${playerId}`,
    },
    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            <path
              d="M26.6666 16.0001C25.8486 15.9999 25.0416 16.1882 24.3081 16.5503C23.5747 16.9124 22.9345 17.4386 22.4372 18.0881L22.3439 18.0481C22.7106 16.9121 22.7656 15.6985 22.503 14.534C22.2405 13.3696 21.6702 12.2969 20.8516 11.4282C20.0329 10.5594 18.996 9.92637 17.8492 9.59519C16.7024 9.264 15.4876 9.24682 14.3319 9.54543L14.2106 9.31609C15.1791 8.45439 15.8001 7.26907 15.9572 5.98228C16.1144 4.69549 15.7969 3.39556 15.0642 2.3261C14.3316 1.25664 13.2341 0.491067 11.9774 0.172856C10.7207 -0.145354 9.39108 0.00564031 8.23775 0.597542C7.08442 1.18944 6.18652 2.18162 5.71233 3.38814C5.23815 4.59465 5.22022 5.93268 5.66191 7.15146C6.10361 8.37024 6.9746 9.38612 8.11166 10.0087C9.24873 10.6313 10.5738 10.8179 11.8386 10.5334L11.9359 10.7161C10.6026 11.7392 9.70575 13.2288 9.4253 14.8858C9.14484 16.5428 9.50159 18.2446 10.4239 19.6494L7.91057 22.0001C6.77452 21.3724 5.44859 21.1806 4.18122 21.4605C2.91386 21.7404 1.79206 22.4728 1.02603 23.5206C0.260005 24.5683 -0.0976697 25.8594 0.020033 27.152C0.137736 28.4445 0.722737 29.6498 1.66541 30.542C2.60809 31.4341 3.84374 31.9519 5.14081 31.9982C6.43789 32.0446 7.70736 31.6164 8.71135 30.7939C9.71533 29.9713 10.3849 28.8109 10.5946 27.5301C10.8044 26.2492 10.5398 24.9359 9.85057 23.8361L12.3012 21.5454C13.6472 22.4451 15.2749 22.8234 16.8797 22.6097C18.4844 22.3959 19.9563 21.6047 21.0199 20.3841L21.3919 20.5428C21.2305 21.6194 21.4024 22.7196 21.8846 23.6956C22.3668 24.6717 23.1361 25.4768 24.0892 26.0028C25.0423 26.5288 26.1336 26.7506 27.2164 26.6383C28.2993 26.526 29.3218 26.0851 30.1467 25.3746C30.9716 24.6642 31.5593 23.7184 31.8309 22.6642C32.1026 21.61 32.0451 20.4979 31.6662 19.4773C31.2874 18.4567 30.6052 17.5765 29.7115 16.9549C28.8178 16.3333 27.7552 16.0001 26.6666 16.0001ZM7.9999 5.33343C7.9999 4.80601 8.1563 4.29044 8.44932 3.85191C8.74233 3.41338 9.15881 3.07158 9.64608 2.86975C10.1333 2.66791 10.6695 2.61511 11.1868 2.718C11.7041 2.82089 12.1792 3.07487 12.5522 3.44781C12.9251 3.82075 13.1791 4.2959 13.282 4.81319C13.3849 5.33047 13.3321 5.86665 13.1302 6.35392C12.9284 6.84119 12.5866 7.25766 12.1481 7.55068C11.7096 7.8437 11.194 8.00009 10.6666 8.00009C9.95932 8.00009 9.28105 7.71914 8.78095 7.21905C8.28085 6.71895 7.9999 6.04067 7.9999 5.33343ZM5.33323 29.3334C4.80582 29.3334 4.29025 29.177 3.85171 28.884C3.41318 28.591 3.07139 28.1745 2.86956 27.6872C2.66772 27.2 2.61491 26.6638 2.71781 26.1465C2.8207 25.6292 3.07468 25.1541 3.44762 24.7811C3.82056 24.4082 4.29571 24.1542 4.81299 24.0513C5.33028 23.9484 5.86645 24.0012 6.35372 24.2031C6.84099 24.4049 7.25747 24.7467 7.55049 25.1852C7.8435 25.6238 7.9999 26.1393 7.9999 26.6668C7.9999 27.374 7.71895 28.0523 7.21885 28.5524C6.71876 29.0525 6.04048 29.3334 5.33323 29.3334ZM15.9999 20.0001C15.1342 19.9984 14.2923 19.7159 13.6008 19.1949C12.9094 18.674 12.4056 17.9428 12.1651 17.1111C11.9247 16.2794 11.9605 15.3921 12.2673 14.5826C12.5741 13.773 13.1353 13.0849 13.8666 12.6214L14.4092 12.3321C14.9545 12.0949 15.5458 11.9823 16.1401 12.0024C16.7344 12.0225 17.3167 12.1749 17.8447 12.4484C18.3727 12.7219 18.8331 13.1097 19.1923 13.5836C19.5515 14.0574 19.8006 14.6054 19.9214 15.1876C20.0422 15.7699 20.0316 16.3717 19.8905 16.9493C19.7494 17.527 19.4813 18.0659 19.1056 18.5269C18.73 18.9878 18.2563 19.3593 17.7191 19.6141C17.1818 19.869 16.5945 20.0008 15.9999 20.0001ZM26.6666 24.0001C26.1392 24.0001 25.6236 23.8437 25.185 23.5507C24.7465 23.2577 24.4047 22.8412 24.2029 22.3539C24.0011 21.8666 23.9482 21.3305 24.0511 20.8132C24.154 20.2959 24.408 19.8207 24.781 19.4478C25.1539 19.0749 25.629 18.8209 26.1463 18.718C26.6636 18.6151 27.1998 18.6679 27.6871 18.8697C28.1743 19.0716 28.5908 19.4134 28.8838 19.8519C29.1768 20.2904 29.3332 20.806 29.3332 21.3334C29.3332 22.0407 29.0523 22.7189 28.5522 23.219C28.0521 23.7191 27.3738 24.0001 26.6666 24.0001Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_135_1144">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: `/statistics/${playerId}`,
    },
    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            <path
              d="M1.33333 6.33374H4.98133C5.26752 7.38672 5.89223 8.31627 6.7591 8.97898C7.62597 9.6417 8.68683 10.0008 9.778 10.0008C10.8692 10.0008 11.93 9.6417 12.7969 8.97898C13.6638 8.31627 14.2885 7.38672 14.5747 6.33374H30.6667C31.0203 6.33374 31.3594 6.19326 31.6095 5.94322C31.8595 5.69317 32 5.35403 32 5.00041C32 4.64678 31.8595 4.30765 31.6095 4.0576C31.3594 3.80755 31.0203 3.66707 30.6667 3.66707H14.5747C14.2885 2.6141 13.6638 1.68455 12.7969 1.02183C11.93 0.359116 10.8692 6.10352e-05 9.778 6.10352e-05C8.68683 6.10352e-05 7.62597 0.359116 6.7591 1.02183C5.89223 1.68455 5.26752 2.6141 4.98133 3.66707H1.33333C0.979711 3.66707 0.640573 3.80755 0.390524 4.0576C0.140476 4.30765 0 4.64678 0 5.00041C0 5.35403 0.140476 5.69317 0.390524 5.94322C0.640573 6.19326 0.979711 6.33374 1.33333 6.33374ZM9.77733 2.66707C10.2388 2.66707 10.6899 2.80392 11.0737 3.06031C11.4574 3.3167 11.7564 3.68112 11.9331 4.10748C12.1097 4.53384 12.1559 5.003 12.0658 5.45562C11.9758 5.90824 11.7536 6.324 11.4272 6.65032C11.1009 6.97664 10.6852 7.19887 10.2325 7.28891C9.77992 7.37894 9.31077 7.33273 8.88441 7.15613C8.45804 6.97952 8.09363 6.68045 7.83724 6.29674C7.58085 5.91302 7.444 5.4619 7.444 5.00041C7.44471 4.38178 7.69077 3.7887 8.1282 3.35127C8.56563 2.91384 9.15871 2.66778 9.77733 2.66707Z"
              fill="white"
            />
            <path
              d="M30.6667 14.6655H27.0187C26.733 13.6122 26.1085 12.6824 25.2417 12.0194C24.3749 11.3564 23.314 10.9972 22.2227 10.9972C21.1314 10.9972 20.0704 11.3564 19.2036 12.0194C18.3368 12.6824 17.7124 13.6122 17.4267 14.6655H1.33333C0.979711 14.6655 0.640573 14.8059 0.390524 15.056C0.140476 15.306 0 15.6452 0 15.9988C0 16.3524 0.140476 16.6916 0.390524 16.9416C0.640573 17.1917 0.979711 17.3321 1.33333 17.3321H17.4267C17.7124 18.3853 18.3368 19.3152 19.2036 19.9782C20.0704 20.6412 21.1314 21.0004 22.2227 21.0004C23.314 21.0004 24.3749 20.6412 25.2417 19.9782C26.1085 19.3152 26.733 18.3853 27.0187 17.3321H30.6667C31.0203 17.3321 31.3594 17.1917 31.6095 16.9416C31.8595 16.6916 32 16.3524 32 15.9988C32 15.6452 31.8595 15.306 31.6095 15.056C31.3594 14.8059 31.0203 14.6655 30.6667 14.6655ZM22.2227 18.3321C21.7612 18.3321 21.3101 18.1953 20.9263 17.9389C20.5426 17.6825 20.2436 17.3181 20.0669 16.8917C19.8903 16.4654 19.8441 15.9962 19.9342 15.5436C20.0242 15.091 20.2464 14.6752 20.5728 14.3489C20.8991 14.0226 21.3148 13.8003 21.7675 13.7103C22.2201 13.6203 22.6892 13.6665 23.1156 13.8431C23.542 14.0197 23.9064 14.3188 24.1628 14.7025C24.4192 15.0862 24.556 15.5373 24.556 15.9988C24.5553 16.6174 24.3092 17.2105 23.8718 17.6479C23.4344 18.0854 22.8413 18.3314 22.2227 18.3321Z"
              fill="white"
            />
            <path
              d="M30.6667 25.6671H14.5747C14.2885 24.6141 13.6638 23.6846 12.7969 23.0219C11.93 22.3591 10.8692 22.0001 9.778 22.0001C8.68683 22.0001 7.62597 22.3591 6.7591 23.0219C5.89223 23.6846 5.26752 24.6141 4.98133 25.6671H1.33333C0.979711 25.6671 0.640573 25.8076 0.390524 26.0576C0.140476 26.3077 0 26.6468 0 27.0004C0 27.354 0.140476 27.6932 0.390524 27.9432C0.640573 28.1933 0.979711 28.3337 1.33333 28.3337H4.98133C5.26752 29.3867 5.89223 30.3163 6.7591 30.979C7.62597 31.6417 8.68683 32.0007 9.778 32.0007C10.8692 32.0007 11.93 31.6417 12.7969 30.979C13.6638 30.3163 14.2885 29.3867 14.5747 28.3337H30.6667C31.0203 28.3337 31.3594 28.1933 31.6095 27.9432C31.8595 27.6932 32 27.354 32 27.0004C32 26.6468 31.8595 26.3077 31.6095 26.0576C31.3594 25.8076 31.0203 25.6671 30.6667 25.6671ZM9.77733 29.3337C9.31584 29.3337 8.86472 29.1969 8.481 28.9405C8.09729 28.6841 7.79822 28.3197 7.62161 27.8933C7.44501 27.467 7.3988 26.9978 7.48883 26.5452C7.57887 26.0926 7.8011 25.6768 8.12742 25.3505C8.45374 25.0242 8.8695 24.802 9.32212 24.7119C9.77474 24.6219 10.2439 24.6681 10.6703 24.8447C11.0966 25.0213 11.461 25.3204 11.7174 25.7041C11.9738 26.0878 12.1107 26.5389 12.1107 27.0004C12.1096 27.6189 11.8634 28.2118 11.4261 28.6492C10.9887 29.0865 10.3958 29.3327 9.77733 29.3337Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_148_59">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      className: styles.flexEnd2,
      link: `/statistics/${playerId}`,
    },
    {
      svg: (
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_148_60)">
            <path
              d="M30.4385 12.2282L25.2665 7.05623C25.0151 6.81335 24.6782 6.67896 24.3287 6.682C23.9791 6.68503 23.6446 6.82526 23.3974 7.07247C23.1502 7.31968 23.01 7.6541 23.007 8.00369C23.0039 8.35329 23.1383 8.69009 23.3812 8.94156L28.5532 14.1136C28.7068 14.2703 28.8411 14.4448 28.9532 14.6336C28.9332 14.6336 28.9172 14.6229 28.8972 14.6229L7.98519 14.6656C7.63157 14.6656 7.29243 14.806 7.04238 15.0561C6.79233 15.3061 6.65186 15.6453 6.65186 15.9989C6.65186 16.3525 6.79233 16.6917 7.04238 16.9417C7.29243 17.1918 7.63157 17.3322 7.98519 17.3322L28.8892 17.2896C28.9265 17.2896 28.9572 17.2709 28.9932 17.2682C28.8749 17.4938 28.725 17.7012 28.5479 17.8842L23.3759 23.0562C23.2485 23.1792 23.1469 23.3263 23.0771 23.489C23.0072 23.6517 22.9704 23.8267 22.9689 24.0037C22.9673 24.1807 23.0011 24.3563 23.0681 24.5202C23.1351 24.684 23.2341 24.8329 23.3593 24.9581C23.4845 25.0833 23.6334 25.1823 23.7972 25.2493C23.9611 25.3164 24.1367 25.3501 24.3137 25.3486C24.4908 25.347 24.6657 25.3102 24.8284 25.2404C24.9911 25.1705 25.1382 25.0689 25.2612 24.9416L30.4332 19.7696C31.433 18.7694 31.9947 17.4131 31.9947 15.9989C31.9947 14.5847 31.433 13.2284 30.4332 12.2282H30.4385Z"
              fill="white"
            />
            <path
              d="M9.33333 29.3333H6.66667C5.6058 29.3333 4.58839 28.9119 3.83824 28.1618C3.08809 27.4116 2.66667 26.3942 2.66667 25.3333V6.66667C2.66667 5.6058 3.08809 4.58839 3.83824 3.83824C4.58839 3.08809 5.6058 2.66667 6.66667 2.66667H9.33333C9.68696 2.66667 10.0261 2.52619 10.2761 2.27614C10.5262 2.02609 10.6667 1.68696 10.6667 1.33333C10.6667 0.979711 10.5262 0.640573 10.2761 0.390524C10.0261 0.140476 9.68696 0 9.33333 0L6.66667 0C4.89921 0.00211714 3.20474 0.705176 1.95496 1.95496C0.705176 3.20474 0.00211714 4.89921 0 6.66667L0 25.3333C0.00211714 27.1008 0.705176 28.7953 1.95496 30.045C3.20474 31.2948 4.89921 31.9979 6.66667 32H9.33333C9.68696 32 10.0261 31.8595 10.2761 31.6095C10.5262 31.3594 10.6667 31.0203 10.6667 30.6667C10.6667 30.313 10.5262 29.9739 10.2761 29.7239C10.0261 29.4738 9.68696 29.3333 9.33333 29.3333Z"
              fill="white"
            />
          </g>
          <defs>
            <clipPath id="clip0_148_60">
              <rect width="32" height="32" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      func: () => logoutHandler(),
      className: styles.flexEnd,
      link: `/`,
    },
  ];

  const switchAccounts = () => {
    dispatch(
      setAccount({
        switchAccount: !switchAccount,
      })
    );
  };

  useEffect(() => {
    if (openMenu) {
      sideBarControls.start({
        x: 0,
        y: 40,
        background: "rgba(255, 255, 255, 0.1)",
        transition: {
          ease: "backInOut",
          duration: 1
        }
      });

      balanceControls.start({
        y: 40,
        transition: {
          delay: .5,
          duration: .5,
          ease: "easeInOut"
        }
      });

      textControls.start({
        y: 0,
        opacity: 1,
        transition: {
          ease: "easeInOut",
          delay: .7,
          duration: .3
        }
      });

      menuControls.start({
        y: 40,
        opacity: 1,
        transition: {
          delay: .7,
          duration: .3,
          ease: "easeInOut"
        }
      });
    } else {
      sideBarControls.start({
        x: 20,
        y: 0,
        background: "rgba(255, 255, 255, 0)",
        transition: {
          ease: "backInOut",
          duration: 1
        }
      });

      balanceControls.start({
        y: 0,
        transition: {
          delay: .5,
          duration: .5,
          ease: "easeInOut"
        }
      });

      textControls.start({
        y: 10,
        opacity: 0,
        transition: {
          ease: "easeInOut",
          delay: .7,
          duration: .3
        }
      });

      menuControls.start({
        y: 0,
        opacity: 0,
        transition: {
          delay: .7,
          duration: .3,
          ease: "easeInOut"
        }
      });
    }
  }, [openMenu]);

  return (
    <>
      <motion.div animate={sideBarControls} className={styles.sideBar}>
        <motion.div animate={balanceControls} className={styles.balanceBlock}>
          <div
            onClick={() => setOpenMenu(!openMenu)}
            className={styles.avatarImg} 
          >
            <img src={`/images/${avatar ? avatar : "avatar.jpg"}`} alt="avatar" />
          </div>
          <motion.div animate={textControls} className={styles.sideBarName}>{playerUsername}</motion.div>
          <motion.div animate={textControls} onClick={switchAccounts} className={styles.switchAccount}>{switchAccount ? "demo" : "main"}</motion.div>
          <motion.div animate={textControls} className={styles.headerBalance}>
            <span>Balance:</span>
            <span>{!switchAccount ? playerBalance?.toString() || "N/A" : playerDemoBalance?.toString() || "N/A"} DC</span>
          </motion.div>
        </motion.div>
        <motion.div animate={menuControls} className={styles.menuContent}>
          <div className={styles.innerLinksWrapper}>
            {sideBarData.map((item, index) => {
              return (
                <Link
                  to={item.link}
                  className={`${styles.svgWrapper} ${item.className}`}
                  onClick={item.func}
                  key={index}
                >
                  {item.svg}
                </Link>
              );
            })}
          </div>
        </motion.div>
      </motion.div>
      {openMenu && <div
        onClick={() => setOpenMenu(!openMenu)}
        className={styles.bg}
      />}
    </>
  );
};

export default Sidebar;
